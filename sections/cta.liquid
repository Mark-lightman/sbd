<div class="section-background color-{{ section.settings.color_scheme }}"></div>
<div
  class="section section--{{ section.settings.section_width }} cta color-{{ section.settings.color_scheme }} spacing-style"
  data-testid="cta"
  style="
    {% render 'spacing-style', settings: section.settings %}
    --cta-heading-font-size: {{ section.settings.heading_font_size }}px;
    --cta-description-font-size: {{ section.settings.description_font_size }}px;
    --cta-button-font-size: {{ section.settings.button_font_size }}px;
    --cta-footer-font-size: {{ section.settings.footer_font_size }}px;
    {% if section.settings.background_color != blank %}background-color: {{ section.settings.background_color }};{% endif %}
  "
>
  <div class="cta__wrapper">
    <div class="cta__border-frame">
      <div class="cta__container">
        <!-- Image Column -->
        <div class="cta__media">
          <div class="cta__image-wrapper">
            {% if section.settings.image != blank %}
              <img
                src="{{ section.settings.image | image_url: width: 1000 }}"
                srcset="
                  {{ section.settings.image | image_url: width: 500 }} 500w,
                  {{ section.settings.image | image_url: width: 750 }} 750w,
                  {{ section.settings.image | image_url: width: 1000 }} 1000w,
                  {{ section.settings.image | image_url: width: 1500 }} 1500w
                "
                sizes="(min-width: 750px) 50vw, 100vw"
                alt="{{ section.settings.image.alt | escape }}"
                loading="lazy"
                width="{{ section.settings.image.width }}"
                height="{{ section.settings.image.height }}"
                class="cta__image"
              >
            {% else %}
              {{ 'image' | placeholder_svg_tag: 'cta__image cta__image--placeholder' }}
            {% endif %}
          </div>
        </div>

        <!-- Content Column -->
        <div class="cta__content">
          <div class="cta__content-inner">
            {% if section.settings.heading != blank %}
              <h2 class="cta__heading">{{ section.settings.heading }}</h2>
            {% endif %}
            
            {% if section.settings.description != blank %}
              <p class="cta__description">{{ section.settings.description }}</p>
            {% endif %}

            {% if section.settings.button_label != blank %}
              <div class="cta__button-wrapper">
                <a 
                  href="{{ section.settings.button_link }}" 
                  class="button-secondary cta__button"
                >
                  {{ section.settings.button_label }}
                </a>
              </div>
            {% endif %}

            {% if section.settings.show_footer_text and section.settings.footer_text != blank %}
              <p class="cta__footer-text">{{ section.settings.footer_text }}</p>
            {% endif %}
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

{% stylesheet %}
  .cta {
    position: relative;
  }

  .cta__wrapper {
    max-width: var(--page-width, 120rem);
    margin: 0 auto;
    padding: 0 var(--page-margin, 2rem);
  }

  @media screen and (max-width: 749px) {
    .cta__wrapper {
      padding: 0 1rem;
    }
  }

  /* Double Border Frame */
  .cta__border-frame {
    position: relative;
    border: 2px solid #c79f67;
    padding: 1rem;
  }

  @media screen and (min-width: 750px) {
    .cta__border-frame {
      padding: 2rem;
    }
  }

  @media screen and (min-width: 990px) {
    .cta__border-frame {
      padding: 2.5rem;
    }
  }

  .cta__border-frame::before {
    content: '';
    position: absolute;
    top: 0.5rem;
    left: 0.5rem;
    right: 0.5rem;
    bottom: 0.5rem;
    border: 1px solid #c79f67;
    pointer-events: none;
  }

  @media screen and (min-width: 750px) {
    .cta__border-frame::before {
      top: 1rem;
      left: 1rem;
      right: 1rem;
      bottom: 1rem;
    }
  }

  @media screen and (min-width: 990px) {
    .cta__border-frame::before {
      top: 1.25rem;
      left: 1.25rem;
      right: 1.25rem;
      bottom: 1.25rem;
    }
  }

  .cta__container {
    display: grid;
    grid-template-columns: 1fr;
    align-items: center;
    overflow: hidden;
    position: relative;
  }

  @media screen and (min-width: 750px) {
    .cta__container {
      grid-template-columns: 1fr 1fr;
    }
  }

  /* Media Column */
  .cta__media {
    position: relative;
    width: 100%;
    height: 100%;
    min-height: 300px;
  }

  @media screen and (min-width: 750px) {
    .cta__media {
      min-height: 500px;
    }
  }

  .cta__image-wrapper {
    position: relative;
    width: 100%;
    height: 100%;
  }

  .cta__image {
    width: 100%;
    height: 100%;
    display: block;
    object-fit: cover;
  }

  .cta__image--placeholder {
    min-height: 300px;
  }

  @media screen and (min-width: 750px) {
    .cta__image {
      min-height: 500px;
    }

    .cta__image--placeholder {
      min-height: 500px;
    }
  }

  /* Content Column */
  .cta__content {
    background: #1a1a1a;
    padding: 2rem 1.5rem;
    color: #fff;
    display: flex;
    align-items: center;
    justify-content: center;
    min-height: 300px;
  }

  @media screen and (min-width: 750px) {
    .cta__content {
      min-height: 500px;
      padding: 4rem;
    }
  }

  @media screen and (min-width: 990px) {
    .cta__content {
      padding: 5rem 6rem;
    }
  }

  .cta__content-inner {
    max-width: 500px;
  }

  .cta__heading {
    font-family: var(--font-heading--family);
    font-size: var(--cta-heading-font-size, 48px);
    font-weight: 400;
    line-height: 1.2;
    color: #fff;
    margin: 0 0 1rem 0;
  }

  @media screen and (max-width: 749px) {
    .cta__heading {
      font-size: calc(var(--cta-heading-font-size, 48px) * 0.65);
    }
  }

  .cta__description {
    font-family: var(--font-body--family);
    font-size: var(--cta-description-font-size, 16px);
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.85);
    margin: 0 0 2rem 0;
  }

  @media screen and (max-width: 749px) {
    .cta__description {
      font-size: calc(var(--cta-description-font-size, 16px) * 0.875);
    }
  }

  /* Button */
  .cta__button-wrapper {
    display: flex;
  }

  .cta__button-wrapper .button-secondary {
    padding-block: var(--button-padding-block);
    padding-inline: var(--button-padding-inline);
    font-size: var(--cta-button-font-size, 13px);
  }

  @media screen and (max-width: 749px) {
    .cta__button-wrapper .button-secondary {
      width: 100%;
      font-size: calc(var(--cta-button-font-size, 13px) * 0.9);
    }
  }

  /* Footer Text */
  .cta__footer-text {
    font-family: var(--font-body--family);
    font-size: var(--cta-footer-font-size, 12px);
    line-height: 1.6;
    color: rgba(255, 255, 255, 0.5);
    margin: 2rem 0 0 0;
    text-align: center;
  }

  @media screen and (max-width: 749px) {
    .cta__footer-text {
      font-size: calc(var(--cta-footer-font-size, 12px) * 0.85);
    }
  }

  @media screen and (min-width: 750px) {
    .cta__footer-text {
      text-align: left;
    }
  }
{% endstylesheet %}

{% schema %}
{
  "name": "CTA",
  "tag": "section",
  "class": "cta-section",
  "disabled_on": {
    "groups": ["header", "footer"]
  },
  "settings": [
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Image"
    },
    {
      "type": "header",
      "content": "Content"
    },
    {
      "type": "text",
      "id": "heading",
      "label": "Heading",
      "default": "Ready to Transform Your Space with Steel?"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description",
      "default": "Speak to our team for expert advice and a tailored quote"
    },
    {
      "type": "header",
      "content": "Button"
    },
    {
      "type": "text",
      "id": "button_label",
      "label": "Button label",
      "default": "GET A FREE QUOTE"
    },
    {
      "type": "url",
      "id": "button_link",
      "label": "Button link"
    },
    {
      "type": "header",
      "content": "Footer"
    },
    {
      "type": "checkbox",
      "id": "show_footer_text",
      "label": "Show footer text",
      "default": true
    },
    {
      "type": "text",
      "id": "footer_text",
      "label": "Footer text",
      "default": "© 2025 Steel Doors. All rights reserved"
    },
    {
      "type": "header",
      "content": "Typography"
    },
    {
      "type": "range",
      "id": "heading_font_size",
      "label": "Heading font size",
      "min": 20,
      "max": 60,
      "step": 2,
      "unit": "px",
      "default": 48
    },
    {
      "type": "range",
      "id": "description_font_size",
      "label": "Description font size",
      "min": 12,
      "max": 24,
      "step": 1,
      "unit": "px",
      "default": 16
    },
    {
      "type": "range",
      "id": "button_font_size",
      "label": "Button font size",
      "min": 10,
      "max": 20,
      "step": 1,
      "unit": "px",
      "default": 13
    },
    {
      "type": "range",
      "id": "footer_font_size",
      "label": "Footer text font size",
      "min": 10,
      "max": 16,
      "step": 1,
      "unit": "px",
      "default": 12
    },
    {
      "type": "header",
      "content": "Colors"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background color",
      "default": "#1a1a1a"
    },
    {
      "type": "header",
      "content": "Layout"
    },
    {
      "type": "select",
      "id": "section_width",
      "label": "Width",
      "options": [
        {
          "value": "page-width",
          "label": "Page width"
        },
        {
          "value": "full-width",
          "label": "Full width"
        }
      ],
      "default": "page-width"
    },
    {
      "type": "color_scheme",
      "id": "color_scheme",
      "label": "Color scheme",
      "default": "scheme-1"
    },
    {
      "type": "header",
      "content": "Padding"
    },
    {
      "type": "range",
      "id": "padding-block-start",
      "label": "Top",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 64
    },
    {
      "type": "range",
      "id": "padding-block-end",
      "label": "Bottom",
      "min": 0,
      "max": 100,
      "step": 1,
      "unit": "px",
      "default": 64
    }
  ],
  "presets": [
    {
      "name": "CTA",
      "settings": {
        "heading": "Ready to Transform Your Space with Steel?",
        "description": "Speak to our team for expert advice and a tailored quote",
        "button_label": "GET A FREE QUOTE",
        "show_footer_text": true,
        "footer_text": "© 2025 Steel Doors. All rights reserved",
        "heading_font_size": 48,
        "description_font_size": 16,
        "button_font_size": 13,
        "footer_font_size": 12,
        "background_color": "#1a1a1a",
        "section_width": "page-width",
        "color_scheme": "scheme-1",
        "padding-block-start": 64,
        "padding-block-end": 64
      }
    }
  ]
}
{% endschema %}
