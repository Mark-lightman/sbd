{% render 'bespoke-collection-item', block: block, section: section %}

{% stylesheet %}
  .bespoke-collection-item {
    position: relative;
    flex: 1 1 var(--bespoke-card-width, 100%);
    width: 100%;
    min-width: 0;
  }

  .bespoke-collection-item__link {
    position: absolute;
    inset: 0;
    z-index: 1;
    border-radius: inherit;
  }

  .bespoke-collection-item__inner {
    display: flex;
    flex-direction: column;
    gap: var(--bespoke-item-gap, 12px);
    height: 100%;
    pointer-events: none;
  }

  .bespoke-collection-item__inner * {
    pointer-events: auto;
  }

  .bespoke-collection-item__image-wrapper {
    position: relative;
    width: 100%;
    overflow: hidden;
    aspect-ratio: var(--bespoke-item-ratio, 1);
    border-radius: inherit;
  }

  .bespoke-collection-item__image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
  }

  .bespoke-collection-item__image--placeholder {
    width: 100%;
    height: 100%;
    background: var(--color-foreground, #000);
    opacity: 0.06;
  }

  .bespoke-collection-item__image--placeholder svg {
    width: 100%;
    height: 100%;
  }

  .bespoke-collection-item__content {
    display: flex;
    flex-direction: column;
    gap: 4px;
    flex: 1 1 auto;
  }

  .bespoke-collection-item__title {
    margin: 0;
    font-family: var(--font-body--family);
    line-height: 1.3;
    letter-spacing: normal;
  }

  .bespoke-collection-item__description {
    margin: 0;
    font-family: var(--font-body--family);
    line-height: 1.5;
    opacity: 0.85;
  }

  .bespoke-collection-item__arrow {
    display: inline-flex;
    align-self: flex-start;
    margin-top: 4px;
    opacity: 0.7;
  }

  .bespoke-collection-item__arrow svg {
    width: 20px;
    height: 20px;
  }
{% endstylesheet %}

{% schema %}
{
  "name": "Collection item",
  "tag": "div",
  "settings": [
    {
      "type": "collection",
      "id": "collection",
      "label": "t:settings.collection"
    },
    {
      "type": "header",
      "content": "Image"
    },
    {
      "type": "image_picker",
      "id": "image",
      "label": "Custom image",
      "info": "Overrides collection image when set"
    },
    {
      "type": "text",
      "id": "image_alt",
      "label": "Image alt text"
    },
    {
      "type": "select",
      "id": "image_ratio",
      "label": "t:settings.aspect_ratio",
      "options": [
        {
          "value": "adapt",
          "label": "t:options.auto"
        },
        {
          "value": "portrait",
          "label": "t:options.portrait"
        },
        {
          "value": "square",
          "label": "t:options.square"
        },
        {
          "value": "landscape",
          "label": "t:options.landscape"
        }
      ],
      "default": "square"
    },
    {
      "type": "header",
      "content": "Title"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Custom title",
      "info": "Overrides collection title when set"
    },
    {
      "type": "select",
      "id": "title_font_weight",
      "label": "Font weight",
      "options": [
        { "value": "400", "label": "Normal" },
        { "value": "500", "label": "Medium" },
        { "value": "600", "label": "Semi bold" },
        { "value": "700", "label": "Bold" }
      ],
      "default": "600"
    },
    {
      "type": "text",
      "id": "title_font_size",
      "label": "Font size",
      "placeholder": "e.g. 1.125rem"
    },
    {
      "type": "color",
      "id": "title_color",
      "label": "Color"
    },
    {
      "type": "header",
      "content": "Description"
    },
    {
      "type": "textarea",
      "id": "description",
      "label": "Description"
    },
    {
      "type": "text",
      "id": "description_font_size",
      "label": "Font size",
      "placeholder": "e.g. 0.875rem"
    },
    {
      "type": "color",
      "id": "description_color",
      "label": "Color"
    },
    {
      "type": "header",
      "content": "Link"
    },
    {
      "type": "url",
      "id": "link",
      "label": "Link",
      "info": "Defaults to collection URL when empty"
    }
  ]
}
{% endschema %}
